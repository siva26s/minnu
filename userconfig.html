<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic JSON Form</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
  <h1>Dynamic JSON Form</h1>
  <form id="jsonForm">
    <div id="formFields"></div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
// Retrieve token from session storage
const token = sessionStorage.getItem('token');

axios.get('https://your-api-endpoint-url.com/data', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
})
  .then(response => {
    const jsonData = response.data;
    const formFields = document.getElementById('formFields');
    Object.keys(jsonData).forEach(key => {
      const label = document.createElement('label');
      label.innerText = key;
      label.classList.add('form-label');
      formFields.appendChild(label);

      const input = document.createElement('input');
      input.setAttribute('type', 'text');
      input.setAttribute('name', key);
      input.setAttribute('value', jsonData[key]);
      input.classList.add('form-control', 'mb-3');
      formFields.appendChild(input);
    });
  })
  .catch(error => {
    console.error('Error fetching data:', error);
  });
</script>

</body>
</html>
